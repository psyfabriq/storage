           <div class="cardbox"  data-ng-controller="FileManagerCtrl">
                  <div class="cardbox-heading">
                    <div class="total float-right">

                           <button class="mb-4 btn btn-outline-info"
								ng-click="initModal('mnewfolder')">
								<i class="glyphicon glyphicon-plus"></i> {{"create_folder" |
								translate}}
							</button>
							<button class="mb-4 btn btn-outline-success"
								ng-click="initModal('muploadfile')">
								<i class="glyphicon glyphicon-upload"></i> {{"upload_file" |
								translate}}
							</button>
							<button class="mb-4 btn btn-outline-danger"
								data-ng-click="setTemplate('main-icons')"
								data-ng-show="viewTemplate !== 'main-icons'"
								title="{{'icons' | translate}}">
								<i class="ion-grid"></i>
							</button>
							<button class="mb-4 btn btn-outline-danger"
								data-ng-click="setTemplate('main-table')"
								data-ng-show="viewTemplate !== 'main-table'"
								title="{{'list' | translate}}">
								<i class="ion-navicon-round"></i>
							</button>

                    </div>
                    <h3 class="cardbox-title">Files</h3>
                  </div>
                  <div class="cardbox-body">
                    <div id="in-progress" style="min-height:50px;">
                      <div class="cardbox">
                        <div class="pb-1 bg-gradient-info top-line"></div>
                        <div class="cardbox-body">

                          			<div class="container-fluid">
				<div class="row">
					<div class="col-sm-2 sidebar file-tree">
						<ul class="nav nav-sidebar file-tree-root">
							<li ng-repeat="item in fileNavigator.history"
								ng-include="'folder-branch-item'"
								ng-class="{'active': item.name == fileNavigator.currentPath.join('')}"></li>
						</ul>

						<script type="text/ng-template" id="folder-branch-item">
                        <a href="" ng-click="fileNavigator.folderClickByName(item.name)" class="animated fast fadeInDown">
                            <i class="glyphicon glyphicon-folder-close mr2" ng-show="!fileNavigator.currentPath.join('/').match('^' + item.name)"></i>
                            <i class="glyphicon glyphicon-folder-open mr2" ng-show="!!fileNavigator.currentPath.join('/').match('^' + item.name)"></i>
                            {{ (item.name.split('/').pop() || '/') | strLimit : 24 }}
                        </a>
                        <ul class="nav nav-sidebar">
                            <li ng-repeat="item in item.nodes" ng-include="'folder-branch-item'" ng-class="{'active': item.name == fileNavigator.currentPath.join('/')}"></li>
                        </ul>
                        </script>



					</div>
					<div class="col-sm-10 main">
						<ol class="breadcrumb mb0">
							<li><a href="" data-ng-click="fileNavigator.goTo(-1)"> <i
									class="glyphicon glyphicon-folder-open mr2"></i>
							</a></li>
							<li
								data-ng-repeat="(key, dir) in fileNavigator.currentPath track by key"
								data-ng-class="{'active':$last}" class="animated fast fadeIn">
								<a href="" data-ng-show="!$last"
								data-ng-click="fileNavigator.goTo(key)"> <i
									class="glyphicon glyphicon-folder-open mr2"></i> {{dir}}
							</a> <span data-ng-show="$last"><i
									class="glyphicon glyphicon-folder-open mr2"></i> {{dir}}</span>
							</li>
							<li><button class="btn btn-primary btn-xs"
									data-ng-click="fileNavigator.upDir()">&crarr;</button></li>
						</ol>
						<div data-ng-if="viewTemplate === 'main-icons'"
							ng-include="'/main-icons.html'"
							class="main-navigation"></div>
						<div data-ng-if="viewTemplate === 'main-table'"
							ng-include="'/main-table.html'"
							class="main-navigation"></div>

					</div>
				</div>
			</div>

                        </div>
                      </div>
                    </div>
                  </div>
                </div>

<!--###################################################################TEMPLATES ###########################################################################-->
<script type="text/ng-template" id="/main-icons.html" class="ng-scope">

<div class="iconset" >
    <div class="col-120" id="item_{{$index}}" data-ng-repeat="item in fileNavigator.fileList | filter: query | orderBy: orderProp" data-ng-show="!fileNavigator.requesting && !fileNavigator.error" >

        <a  href="" class="thumbnail text-center"  data-ng-click="smartClick(item)" ng-right-click="smartRightClick(item,$event)" title="{{item.model.name}} ({{item.model.sizeKb()}}kb)" >
            <div class="item-icon" >
                <i class="glyphicon glyphicon-folder-open" data-ng-show="item.model.type === 'dir'"></i>
                <i class="glyphicon glyphicon-file" data-ng-show="item.model.type === 'file' && item.model.isimage === false"></i>
                <i class="glyphicon glyphicon-file" data-ng-show="item.model.type === 'file' && item.model.isimage === false"></i>
                <img ng-src="{{item.model.url}}" data-ng-show="item.model.type === 'file' && item.model.isimage === true" class="img-thumbnail" style="height=32; width=32;">
            </div>

            {{item.model.name | strLimit : 11 }}
        </a>
    </div>
    <div class="alert alert-warning" data-ng-show="fileNavigator.requesting">
        {{"loading" | translate}}...
    </div>
    <div class="alert alert-warning" data-ng-show="!fileNavigator.requesting && fileNavigator.fileList.length < 1 && !fileNavigator.error">
        {{"no_files_in_folder" | translate}}...
    </div>
    <div class="alert alert-danger" data-ng-show="!fileNavigator.requesting && fileNavigator.error">
        {{ fileNavigator.error }}
    </div>
</div>


</script>
<script type="text/ng-template" id="/main-table.html" class="ng-scope">

<table class="table table-striped table-hover mb0 table-files">
    <thead>
        <tr>
            <th>{{"name" | translate}}</th>
            <th class="hidden-xs">{{"size" | translate}}</th>
            <th class="hidden-sm hidden-xs">{{"date" | translate}}</th>
            <th class="text-right">{{"actions" | translate}}</th>
        </tr>
    </thead>
    <tbody class="file-item">
        <tr data-ng-show="fileNavigator.requesting">
            <td colspan="4">
                {{"loading" | translate}}...
            </td>
        </tr>
        <tr data-ng-show="!fileNavigator.requesting && fileNavigator.fileList.length < 1 && !fileNavigator.error">
            <td colspan="4">
                {{"no_files_in_folder" | translate}}...
            </td>
        </tr>
        <tr data-ng-show="!fileNavigator.requesting && fileNavigator.error">
            <td colspan="4">
                {{ fileNavigator.error }}
            </td>
        </tr>

        <tr data-ng-repeat="item in fileNavigator.fileList | filter: query | orderBy: orderProp" data-ng-show="!fileNavigator.requesting">
            <td>
                <a href="" data-ng-click="smartClick(item)" ng-right-click="smartRightClick(item)" title="{{item.model.name}} ({{item.model.sizeKb()}}kb)">
                    <i class="glyphicon glyphicon-folder-close" data-ng-show="item.model.type === 'dir'"></i>
                    <i class="glyphicon glyphicon-file" data-ng-show="item.model.type === 'file'"></i>
                    {{item.model.name | strLimit : 64}}
                </a>
            </td>
            <td class="hidden-xs">
                {{item.model.sizeKb()}}kb
            </td>
            <td class="hidden-sm hidden-xs">
                {{item.model.date.toString()}}
            </td>
            <td class="text-right">
                <div ng-include="'/item-toolbar.html'"></div>
            </td>
        </tr>
    </tbody>
</table>


</script>
<!--###################################################################ENDTEMPLATES ###########################################################################-->



<!--###################################################################TEMPLATES TOOLBAR###########################################################################-->
<script type="text/ng-template" id="/item-toolbar.html" class="ng-scope"><div data-ng-show="!item.inprocess"> <button class="btn btn-sm btn-default" ng-click="initModal('mrename',item)" title="{{'rename' | translate}}"> <i class="glyphicon glyphicon-edit"></i> </button> <button class="btn btn-sm btn-default" ng-click="initModal('mcopy',item)" title="{{'copy' | translate}}"> <i class="glyphicon glyphicon-log-out"></i> </button> <button class="btn btn-sm btn-default" data-ng-show="item.isEditable()" data-ng-click="item.getContent(); initModal('medit',item)" title="{{'edit' | translate}}"> <i class="glyphicon glyphicon-pencil"></i> </button> <!--<button class="btn btn-sm btn-default" ng-click="initModal('mpermission',item)" title="{{'permissions' | translate}}"> <i class="glyphicon glyphicon-lock"></i> </button>--> <button class="btn btn-sm btn-default" data-ng-show="item.isCompressible()" ng-click="initModal('mcompress',item)" title="{{'compress' | translate}}"> <i class="glyphicon glyphicon-compressed"></i> </button> <button class="btn btn-sm btn-default" data-ng-show="item.isExtractable()" ng-click="initModal('mextract',item); item.tempModel.name=''" title="{{'extract' | translate}}"> <i class="glyphicon glyphicon-export"></i> </button> <button class="btn btn-sm btn-default" data-ng-show="!item.isFolder()" data-ng-click="item.download()" title="{{'download' | translate}}"> <i class="glyphicon glyphicon-cloud-download"></i> </button> <button class="btn btn-sm btn-default" data-ng-show="item.isImage()" data-ng-click="item.preview()" title="{{'view_item' | translate}}"> <i class="glyphicon glyphicon-picture"></i> </button> <button class="btn btn-sm btn-danger" ng-click="initModal('mdelete',item)" title="{{'remove' | translate}}"> <i class="glyphicon glyphicon-trash"></i> </button></div><div data-ng-show="item.inprocess"> <button class="btn btn-sm" style="visibility: hidden">&nbsp;</button><span class="label label-warning">{{"wait" | translate}} ...</span></div></script>
<!--###################################################################END TEMPLATES TOOLBAR#######################################################################-->
<!--###################################################################CONTEXT#############################################################################-->
<script type="text/ng-template" id="/item-context-menu.html"
	class="ng-scope"> <form > <ul class="list-group " role="menu"> <li class="list-group-item "><a href="" ng-click="initModal('mrename',temp)" ><i class="glyphicon glyphicon-edit"></i> {{'rename' | translate}}</a></li> <li class="list-group-item"><a href="" ng-click="initModal('mcopy',temp)" ><i class="glyphicon glyphicon-log-out"></i> {{'copy' | translate}}</a></li> <li class="list-group-item" data-ng-show="temp.isEditable()"><a href="" data-ng-click="item.getContent(); initModal('medit',temp)"><i class="glyphicon glyphicon-pencil"></i> {{'edit' | translate}}</a></li> <li class="list-group-item" data-ng-show="temp.isCompressible()"><a href="" ng-click="initModal('mcompress',temp)"><i class="glyphicon glyphicon-compressed"></i> {{'compress' | translate}}</a></li> <li class="list-group-item" data-ng-show="temp.isExtractable()"><a href="" ng-click="initModal('mextract',temp); temp.tempModel.name=''"><i class="glyphicon glyphicon-export"></i> {{'extract' | translate}}</a></li> <li class="list-group-item" data-ng-show="!temp.isFolder()"><a href="" data-ng-click="temp.download()"><i class="glyphicon glyphicon-download"></i> {{'download' | translate}}</a></li> <li class="list-group-item" data-ng-show="temp.isImage()"><a href="" data-ng-click="temp.preview()"><i class="glyphicon glyphicon-picture"></i> {{'view_item' | translate}}</a></li> <li class="list-group-item"><a href="" ng-click="initModal('mdelete',temp)"><i class="glyphicon glyphicon-trash"></i> {{'remove' | translate}}</a></li> </ul> </form> </script>
<!--###################################################################END CONTEXT#############################################################################-->
<!--###################################################################TEMPLATES#############################################################################-->
<script type="text/ng-template" id="/modal-delete.html" class="ng-scope"> <div class="modal animated fadeIn" > <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <h4 class="modal-title">{{"confirm" | translate}}</h4> </div> <div class="modal-body"> {{'sure_to_delete' | translate}} <b>{{temp.model.name}}</b> ? <!--<div data-ng-include data-src="'error-bar'" class="clearfix"></div>--> </div> <div class="modal-footer"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"cancel" | translate}}</button> <button type="button" class="btn btn-sm btn-primary" data-ng-click="remove(temp)" data-ng-disabled="temp.inprocess" autofocus="autofocus">{{"remove" | translate}}</button> </div> </div> </div> </div></script>
<script type="text/ng-template" id="/modal-rename.html" class="ng-scope"> <div class="modal animated fadeIn" > <div class="modal-dialog"> <div class="modal-content"> <form data-ng-submit="rename(temp)"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <h4 class="modal-title">{{'change_name_move' | translate}}</h4> </div> <div class="modal-body"> <label class="radio">{{'enter_new_name_for' | translate}} <b>{{temp.model.name}}</b></label> <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus"> <!--<div data-ng-include data-src="'path-selector'" class="clearfix"></div>--> <!--<div data-ng-include data-src="'error-bar'" class="clearfix"></div>--> </div> <div class="modal-footer"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"cancel" | translate}}</button> <button type="button" class="btn btn-sm btn-primary" data-ng-click="rename(temp)" data-ng-disabled="temp.inprocess">{{'rename' | translate}}</button> </div> </form> </div> </div> </div></script>
<script type="text/ng-template" id="/modal-copy.html" class="ng-scope"><div class="modal animated fadeIn" > <div class="modal-dialog"> <div class="modal-content"> <form data-ng-submit="copy(temp)"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <h4 class="modal-title">{{'copy_file' | translate}}</h4> </div> <div class="modal-body"> <label class="radio">{{'enter_new_name_for' | translate}} <b>{{temp.model.name}}</b></label> <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus"> <!-- <div data-ng-include data-src="'path-selector'" class="clearfix"></div> --> <!--<div data-ng-include data-src="'error-bar'" class="clearfix"></div>--> </div> <div class="modal-footer"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"cancel" | translate}}</button> <button type="button" class="btn btn-sm btn-primary" data-ng-click="copy(temp)" data-ng-disabled="temp.inprocess">Copy</button> </div> </form> </div> </div></div></script>
<script type="text/ng-template" id="/modal-compress.html"
	class="ng-scope"><div class="modal animated fadeIn" > <div class="modal-dialog"> <div class="modal-content"> <form data-ng-submit="compress(temp)"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <h4 class="modal-title">{{'compress' | translate}}</h4> </div> <div class="modal-body"> <div ng-show="temp.success"> <div class="label label-success error-msg">{{'compression_started' | translate}}</div> </div> <div ng-hide="temp.success"> <label class="radio">{{'enter_folder_name_for_compression' | translate}} <b>{{fileNavigator.currentPath.join('/')}}/{{temp.model.name}}</b></label> <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus"> </div> <!--<div data-ng-include data-src="'error-bar'" class="clearfix"></div>--> </div> <div class="modal-footer"> <div ng-show="temp.success"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"close" | translate}}</button> </div> <div ng-hide="temp.success"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"cancel" | translate}}</button> <button type="button" class="btn btn-sm btn-primary" data-ng-click="compress(temp)" data-ng-disabled="temp.inprocess">{{'compress' | translate}}</button> </div> </div> </form> </div> </div></div></script>
<script type="text/ng-template" id="/modal-extract.html"
	class="ng-scope"><div class="modal animated fadeIn" ng-init="temp.emptyName()" > <div class="modal-dialog"> <div class="modal-content"> <form data-ng-submit="extract(temp)"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <h4 class="modal-title">{{'extract_item' | translate}}</h4> </div> <div class="modal-body"> <div ng-show="temp.success"> <div class="label label-success error-msg">{{'extraction_started' | translate}}</div> </div> <div ng-hide="temp.success"> <label class="radio">{{'enter_folder_name_for_extraction' | translate}} <b>{{temp.model.name}}</b></label> <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus"> <!--<div data-ng-include data-src="'path-selector'" class="clearfix"></div>--> </div> <!--<div data-ng-include data-src="'error-bar'" class="clearfix"></div>--> </div> <div class="modal-footer"> <div ng-show="temp.success"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"close" | translate}}</button> </div> <div ng-hide="temp.success"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"cancel" | translate}}</button> <button type="button" class="btn btn-sm btn-primary" data-ng-click="extract(temp)" data-ng-disabled="temp.inprocess">{{'extract' | translate}}</button> </div> </div> </form> </div> </div></div></script>
<script type="text/ng-template" id="/modal-edit.html" class="ng-scope"><div class="modal animated fadeIn" data-ng-class="{'modal-fullscreen': fullscreen}" > <div class="modal-dialog modal-lg"> <div class="modal-content"> <form data-ng-submit="edit(temp)"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <button type="button" class="close mr5" data-ng-click="fullscreen=!fullscreen"> <span>◊</span> <span class="sr-only">{{'toggle_fullscreen' | translate}}</span> </button> <h4 class="modal-title">{{'edit_file' | translate}}</h4> </div> <div class="modal-body"> <label class="radio">{{'file_content' | translate}}</label> <span class="label label-warning" data-ng-show="temp.inprocess">{{'loading' | translate}} ...</span> <textarea class="form-control code" data-ng-model="temp.tempModel.content" data-ng-show="!temp.inprocess" autofocus="autofocus"></textarea> </div> <div class="modal-footer"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"cancel" | translate}}</button> <button type="button" class="btn btn-sm btn-primary" data-ng-click="edit(temp)" data-ng-disabled="temp.inprocess">{{'edit' | translate}}</button> </div> </form> </div> </div></div></script>
<script type="text/ng-template" id="/modal-upload-file.html"
	class="ng-scope"><div class="modal animated fadeIn"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <h4 class="modal-title">{{"upload_file" | translate}}</h4> </div> <div class="modal-body"> <mdr-file multiple="true" files="uploadFileList" ></mdr-file> <!-- <label class="radio">{{"files_will_uploaded_to" | translate}} <b>{{fileNavigator.currentPath.join('/')}}</b></label> <input type="file" class="form-control" data-ng-file="$parent.uploadFileList" autofocus="autofocus" multiple="multiple"/> --> <!--<div data-ng-include data-src="'error-bar'" class="clearfix"></div>--> </div> <div class="modal-footer"> <div data-ng-show="!fileUploader.requesting"> <button type="button" class="btn btn-sm btn-default" ng-click="$hide()">{{"cancel" | translate}}</button> <button class="btn btn-sm btn-primary" data-ng-click="uploadFiles()" >{{'upload' | translate}}</button> </div> <div data-ng-show="fileUploader.requesting"> <span class="label label-warning">{{"uploading" | translate}} ...</span> </div> </div> </div> </div></div></script>
<script type="text/ng-template" id="/modal-change-permissions.html"
	class="ng-scope"><div class="modal animated fadeIn"> <div class="modal-dialog"> <div class="modal-content"> <form data-ng-submit="changePermissions(temp)"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <h4 class="modal-title">{{'change_permissions' | translate}}</h4> </div> <div class="modal-body"> <table class="table table-striped table-bordered table-hover"> <thead> <tr> <th>{{"permissions" | translate}}</th> <th ng-repeat="(type, value) in temp.model.perms.values">{{type}}</th> </tr> </thead> <tbody> <tr ng-repeat="(mode, value) in temp.model.perms.permissionValues"> <td>{{mode}}</td> <td data-ng-repeat="(type, value) in temp.model.perms.values" class="col-xs-1" ng-click="main()"> <input type="checkbox" ng-model="temp.tempModel.perms.values[type][mode]" ng-false-value="0" > <!--ng-true-value="temp.model.perms.permissionValues[mode]"--> </td> </tr> </tbody> </table> <div> <span>Original Chmod: {{temp.model.perms.getNumber()}}</span> <span>Chmod: {{temp.tempModel.perms.getNumber()}}</span> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-sm btn-default" ng-click="$hide()">{{"cancel" | translate}}</button> <button class="btn btn-sm btn-primary" data-ng-click="changePermissions(temp)" data-ng-disabled="">{{'change' | translate}}</button> </div> </form> </div> </div></div></script>
<script type="text/ng-template" id="/modal-new-folder.html"
	class="ng-scope"> <div class="modal animated fadeIn"> <div class="modal-dialog modal-vertical-centered" > <div class="modal-content"> <form data-ng-submit="createFolder(temp)"> <div class="modal-header"> <button type="button" class="close" ng-click="$hide()"> <span aria-hidden="true">×</span> <span class="sr-only">{{"close" | translate}}</span> </button> <h4 class="modal-title">{{'create_folder' | translate}}</h4> </div> <div class="modal-body"> <label class="radio">{{'folder_name' | translate}}</label> <input class="form-control" data-ng-model="temp.tempModel.name" autofocus="autofocus"> <!--<div data-ng-include data-src="'error-bar'" class="clearfix"></div>--> </div> <div class="modal-footer"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"cancel" | translate}}</button> <button class="btn btn-sm btn-primary" data-ng-click="createFolder(temp)" data-ng-disabled="temp.inprocess">{{'create' | translate}}</button> </div> </form> </div> </div> </div></script>
<script type="text/ng-template" id="/modal-image-preview.html"
	class="ng-scope"> <div class="modal animated fadeIn" > <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <img class="slide img-responsive img-rounded center-block" ng-src="{{photo.src}}" /> <div class="input-group"> <div class="input-group-btn"> <button type="button" class="btn btn-success" clipboard text="photo.src" >Copy</button> </div> <input type="text" class="form-control" ng-model="photo.src"> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-sm btn-default" data-ng-disabled="temp.inprocess" ng-click="$hide()">{{"cancel" | translate}}</button> </div> </div> </div> </div></script>
<!--###################################################################END TEMPLATES##########################################################################-->
